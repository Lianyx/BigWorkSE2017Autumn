# 某灯具企业进销存管理系统详细设计文档
## V1.0beta版
### 南京大学GZYZ小分队
#### 2017-10-29

---
## 更新版本记录
| **修改人** |**修改日期** |**修改原因**|**版本号** |
| :------   |:----: | ----    | :----: |
| 小组     |2017.10.29| 第一稿初稿  |   v1.0beta |

---

# 1.引言
## 1.1编制目的
本报告详细完成了对某灯具进销存系统的概要设计，达到指导详细设计和开发的目的，同时实现和测试人员及用户的沟通。  
本报告面向开发人员、测试人员及最终用户而编写，是了解系统的导航

## 1.2词汇表
|**词汇表**|**词汇含义**|**备注**|
|----|----|---|
|ERP|进销存管理系统||
|User|用户||
|Promotion|销售策略||
|Log|操作记录||
|Message|消息||
|SystemMessage|系统消息||
|Check|单据审核||
|Sales|销售||
|Member|客户||
|Stock|库存||
|Bill|款单||
|Business|业务查询||
|Establish|期初建账||
|Account|账户||
|Inventory|库存||
|Goods|商品（管理）||
|GoodsClassification|商品分类||
|UserManager|用户管理||
|Administrator|管理员||
|InventoryView|库存查看||
|InventoryCheck|库存盘点||
|InventoryOverflow|库存报溢|
|InventoryDamage|库存报损|
|InventoryWarning|库存报警|
|MemberManager|客户管理||
|StockPurReceipt|进货单||
|StockRetReceipt|进货退货单||
|SalesSellReceipt|销售单|
|SalesRetReceipt|销售退货单||
|AccountManager|账户管理||
|BillPayReceipt|付款单|
|BillChargeReceipt|收款单||
|CashReceipt|现金费用单||
|SalesDetail|销售明细||
|BusinessProgress|经营历程||
|BusinessCondition|经营情况||
|Establish|期初建账||
|CreditNote|红冲||
|InventoryManager|库存管理人员||
|Salesman|销售人员||
|Accountant|财务人员||
|GeneralManager|总经理||

# 2.产品概述
参考某灯具企业进销存管理系统用例文档与某灯具企业进销存管理系统需求规格文档中对产品的概述

# 3.体系结构设计概述
参考某灯具企业进销存管理系统体系结构文档对体系结构概述

# 4.结构视角
## 4.1业务逻辑层的分解
### 4.1.memberbl模块
#### 1.模块概述
#### 2.整体结构

#### 3.模块内部类的接口规范
**供接口名**|**语法**|**前置条件**|**后置条件**|
|:---|:---|:---|:---|
|MemberManager.insert|public ResultMessage insert(MemberVO memberVO)|输入合法|添加客户，返回执行结果|
|MemberManager.update|public ResultMessage update(MemberVO memberVO)|输入合法|更新客户，返回执行结果|
|MemberManager.delete|public ResultMessage delete(String id)|无|删除客户，返回执行结果|
|MemberManager.search|public ArrayList<MemberVO> search(SearchConditions sc)|输入合法的搜索条件|返回搜索结果|

|**需接口名**|**服务**|
|:---|:---|
|MemberDataService.insert(MemberPO memberPO)|添加客户|
|MemberDataService.update(MemberPO memberPO)|更新客户|
|MemberDataService.delete(String id)|删除客户|
|MemberDataService.Search(String id)|搜索客户|

#### 4.业务逻辑层的动态模型

### 4.2.salesbl模块
#### 1.模块概述
#### 2.整体结构

#### 3.模块内部类的接口规范
|**供接口名**|**语法**|**前置条件**|**后置条件**|
|:---|:---|:---|:---|
|Salesbl.getSalesSellReceiptID|public String getSalesSellReceiptID()|新建销售单|返回根据时间和编号生成的单据编号|
|Salesbl.getSalesRetReceiptID|public String getSalesRetReceiptID()|新建销售退货单|返回根据时间和编号生成的单据编号|
|Salesbl.submit|public ResultMessage submit(SalesReceiptVO salesReceiptVO)|输入合法|保存单据，记录操作，发送消息，返回执行结果|
|Salesbl.update|public ResultMessage update(SalesReceiptVO salesReceiptVO)|输入合法|更新单据，记录操作，返回执行结果|
|Salesbl.delete|public ResultMessage delete(String id)|无|删除单据，记录操作，返回执行结果|
|Salesbl.find|public SalesReceiptVO find(String id)|输入合法单据号|查找单据，返回查找结果|
|Salesbl.getGoodsNames|public ArrayList<String> getGoodsNames()|无|返回可选商口名称|
|Salesbl.getPrice|public int getPrice(String goodsName, String goodsVersion)|选择商品|返回该高品的单价|

|**需接口名**|**服务**|
|:---|:---|
|SalesDataService.insert(SalesReceiptPO salesReceiptPO)|添加销售类单据|
|SalesDataService.update(SalesReceiptPO salesReceiptPO)|更新销售类单据|
|SalesDataService.delete(String id)|删除销售类单据|
|SalesDataService.Search(String id)|搜索销售类单据|
#### 4.业务逻辑层的动态模型

### 4.3.stockbl模块
#### 1.模块概述
#### 2.整体结构

#### 3.模块内部类的接口规范
|**供接口名**|**语法**|**前置条件**|**后置条件**|
|:---|:---|:---|:---|
|Stockbl.getStockPurReceiptID|public String getStockPurReceiptID()|新建进货单|返回根据时间和编号生成的单据编号|
|Stockbl.getStockRetReceiptID|public String getStockRetReceiptID()|新建进货退货单|返回根据时间和编号生成的单据编号|
|Stockbl.submit|public ResultMessage submit(StockReceiptVO stockReceiptVO)|输入合法|保存单据，记录操作，发送消息，返回执行结果|
|Stockbl.update|public ResultMessage update(StockReceiptVO stockReceiptVO)|输入合法，存在未审批通过单据|更新单据，记录操作，返回执行结果|
|Stockbl.delete|public ResultMessage delete(String id)|存在未审批通过单据|删除单据，记录操作，返回执行结果|
|Stockbl.find|public StockReceiptVO find(String id)|输入合法单据号|查找单据，返回查找结果|
|Stockbl.getGoodsNames|public ArrayList<String> getGoodsNames()|无|返回可选商口名称|
|Stockbl.getPrice|public int getPrice(String goodsName, String goodsVersion)|选择商品|返回该高品的单价|


|**需接口名**|**服务**|
|:---|:---|
|StockDataService.insert(StockReceiptPO stockReceiptPO)|添加进货类单据|
|StockDataService.update(StockReceiptPO stockReceiptPO)|更新进货类单据|
|StockDataService.delete(String id)|删除进货类单据|
|StockDataService.find(String id)|查找进货类单据|


#### 4.业务逻辑层的动态模型

# 5.依赖视角
下图为客户端开发包图
![客户端](体系结构图/客户端.png)  
  
下图为服务器端开发包图
![服务器端](体系结构图/服务器端.png)  

